<?xml version="1.0" encoding="utf-8" ?>
<ContentPage x:Class="Asana.Maui.Views.LoginView"
             xmlns="http://schemas.microsoft.com/dotnet/2021/maui"
             xmlns:x="http://schemas.microsoft.com/winfx/2009/xaml"
             Title="User Login">
    
    <ScrollView>
        <VerticalStackLayout Spacing="25" Padding="30,50" VerticalOptions="Center">
            
            <Label Text="Welcome to Asana Task Manager" 
                   FontSize="24" 
                   FontAttributes="Bold"
                   HorizontalOptions="Center"
                   TextColor="DarkBlue" />
            
            <Label Text="Select your user account:" 
                   FontSize="16" 
                   HorizontalOptions="Center"
                   TextColor="Gray" />
            
            <!-- User Selection -->
            <Frame BackgroundColor="LightGray" Padding="20" CornerRadius="10">
                <StackLayout Spacing="15">
                    <Label Text="Available Users:" 
                           FontAttributes="Bold" 
                           FontSize="18" />
                    
                    <Picker x:Name="UserPicker" 
                            ItemsSource="{Binding Users}"
                            SelectedItem="{Binding SelectedUser}"
                            ItemDisplayBinding="{Binding Name}"
                            Title="Choose a user..."
                            BackgroundColor="White"
                            FontSize="16" />
                    
                    <Label Text="Selected User Details:" 
                           FontAttributes="Bold" 
                           FontSize="14"
                           Margin="0,10,0,0" />
                    
                    <StackLayout IsVisible="{Binding HasSelectedUser}">
                        <Label Text="{Binding SelectedUser.Name, StringFormat='Name: {0}'}" 
                               FontSize="14" />
                        <Label Text="{Binding SelectedUser.Email, StringFormat='Email: {0}'}" 
                               FontSize="14" />
                        <Label Text="{Binding SelectedUser.Username, StringFormat='Username: {0}'}" 
                               FontSize="14" />
                    </StackLayout>
                </StackLayout>
            </Frame>
            
            <!-- Login Button -->
            <Button x:Name="LoginBtn" 
                    Text="Login as Selected User" 
                    Clicked="LoginClicked" 
                    BackgroundColor="Green" 
                    TextColor="White"
                    FontSize="16"
                    Padding="20,10"
                    IsEnabled="{Binding HasSelectedUser}" />
            
            <!-- Demo Users Info -->
            <Frame BackgroundColor="LightYellow" Padding="15" CornerRadius="5">
                <StackLayout Spacing="10">
                    <Label Text="Demo Users Available:" 
                           FontAttributes="Bold" 
                           FontSize="14"
                           TextColor="DarkOrange" />
                    <Label Text="• John Doe (john@example.com)" FontSize="12" />
                    <Label Text="• Jane Smith (jane@example.com)" FontSize="12" />
                    <Label Text="• Bob Johnson (bob@example.com)" FontSize="12" />
                    <Label Text="• Alice Brown (alice@example.com)" FontSize="12" />
                    <Label Text="Each user will only see todos assigned to them." 
                           FontSize="11" 
                           FontStyle="Italic"
                           TextColor="Gray"
                           Margin="0,10,0,0" />
                </StackLayout>
            </Frame>

        </VerticalStackLayout>
    </ScrollView>
    
</ContentPage>
